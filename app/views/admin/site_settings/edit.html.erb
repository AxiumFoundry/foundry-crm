<% content_for :page_title, "Site Settings" %>

<div class="max-w-4xl">
  <%= form_with model: @site_setting, url: admin_site_setting_path, class: "space-y-6" do |f| %>
    <% if @site_setting.errors.any? %>
      <div class="bg-red-500/10 border border-red-500/30 p-4 rounded-lg">
        <ul class="list-disc list-inside text-red-300 text-sm space-y-1">
          <% @site_setting.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <fieldset class="border border-gray-700 p-6 rounded-lg space-y-6">
      <legend class="text-xs font-semibold text-gray-300 uppercase tracking-wider px-2">Business Info</legend>

      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <%= f.label :business_name, class: "block text-xs font-semibold text-gray-300 mb-2 uppercase tracking-wider" %>
          <%= f.text_field :business_name, required: true,
              class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none rounded transition-base" %>
        </div>
        <div>
          <%= f.label :tagline, class: "block text-xs font-semibold text-gray-300 mb-2 uppercase tracking-wider" %>
          <%= f.text_field :tagline,
              class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none rounded transition-base" %>
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <%= f.label :contact_email, class: "block text-xs font-semibold text-gray-300 mb-2 uppercase tracking-wider" %>
          <%= f.email_field :contact_email,
              class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none rounded transition-base" %>
        </div>
        <div>
          <%= f.label :contact_phone, class: "block text-xs font-semibold text-gray-300 mb-2 uppercase tracking-wider" %>
          <%= f.telephone_field :contact_phone,
              class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none rounded transition-base" %>
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <%= f.label :website_url, class: "block text-xs font-semibold text-gray-300 mb-2 uppercase tracking-wider" %>
          <%= f.url_field :website_url,
              class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none rounded transition-base" %>
        </div>
        <div>
          <%= f.label :logo_url, class: "block text-xs font-semibold text-gray-300 mb-2 uppercase tracking-wider" %>
          <%= f.url_field :logo_url,
              class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none rounded transition-base" %>
        </div>
      </div>
    </fieldset>

    <fieldset class="border border-gray-700 p-6 rounded-lg space-y-6">
      <legend class="text-xs font-semibold text-gray-300 uppercase tracking-wider px-2">Preferences</legend>

      <div class="grid md:grid-cols-3 gap-6">
        <div>
          <%= f.label :timezone, class: "block text-xs font-semibold text-gray-300 mb-2 uppercase tracking-wider" %>
          <%= f.text_field :timezone,
              class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none rounded transition-base" %>
        </div>
        <div>
          <%= f.label :default_currency, class: "block text-xs font-semibold text-gray-300 mb-2 uppercase tracking-wider" %>
          <%= f.text_field :default_currency,
              class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none rounded transition-base" %>
        </div>
        <div>
          <%= f.label :invoice_prefix, class: "block text-xs font-semibold text-gray-300 mb-2 uppercase tracking-wider" %>
          <%= f.text_field :invoice_prefix,
              class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none rounded transition-base" %>
        </div>
      </div>

      <div class="grid md:grid-cols-3 gap-6">
        <div>
          <%= f.label :invoice_next_number, class: "block text-xs font-semibold text-gray-300 mb-2 uppercase tracking-wider" %>
          <%= f.number_field :invoice_next_number, min: 1,
              class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none rounded transition-base" %>
        </div>
      </div>
    </fieldset>

    <p class="text-sm text-gray-400">Site content (headings, descriptions, etc.) can be edited inline from the public site using the "Edit Content" button in the admin bar.</p>

    <div class="flex gap-4">
      <%= f.submit "Save Settings", class: "btn-primary text-base py-3 px-6 cursor-pointer" %>
    </div>
  <% end %>
</div>
