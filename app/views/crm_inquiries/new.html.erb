<%= turbo_frame_tag "modal" do %>
  <div class="fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4" data-controller="modal" data-action="click->modal#close">
    <div class="bg-navy border border-gray-700 max-w-3xl w-full max-h-[90vh] overflow-y-auto" data-action="click->modal#stopPropagation">
      <div class="p-4 sm:p-8 md:p-12">
        <div class="flex justify-between items-start mb-12">
          <div>
            <div class="border-l-4 border-primary pl-6 mb-6"></div>
            <h2 class="text-2xl sm:text-4xl md:text-5xl font-bold text-white mb-4 leading-tight">
              Get in Touch
            </h2>
            <p class="text-gray-300 text-lg font-light">
              Tell us about your business and how we can help.
            </p>
          </div>
          <%= link_to root_path, class: "text-gray-400 hover:text-white transition-base ml-4", data: { turbo_frame: "_top" } do %>
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          <% end %>
        </div>

        <%= turbo_frame_tag "crm_inquiry_form" do %>
          <%= form_with model: @inquiry, url: crm_inquiries_path, data: { controller: "form" }, class: "space-y-6" do |f| %>
            <div class="grid md:grid-cols-2 gap-6">
              <div class="md:col-span-2">
                <%= f.label :company_name, class: "block text-xs font-semibold text-gray-300 mb-3 uppercase tracking-wider" do %>
                  Company Name
                <% end %>
                <%= f.text_field :company_name, required: true,
                    class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none transition-base",
                    placeholder: "Your Company" %>
              </div>

              <div>
                <%= f.label :contact_name, class: "block text-xs font-semibold text-gray-300 mb-3 uppercase tracking-wider" do %>
                  Your Name
                <% end %>
                <%= f.text_field :contact_name, required: true,
                    class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none transition-base",
                    placeholder: "John Doe" %>
              </div>

              <div>
                <%= f.label :email, class: "block text-xs font-semibold text-gray-300 mb-3 uppercase tracking-wider" do %>
                  Email
                <% end %>
                <%= f.email_field :email, required: true,
                    class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none transition-base",
                    placeholder: "john@company.com" %>
              </div>

              <div>
                <%= f.label :phone, class: "block text-xs font-semibold text-gray-300 mb-3 uppercase tracking-wider" do %>
                  Phone (Optional)
                <% end %>
                <%= f.telephone_field :phone,
                    class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none transition-base",
                    placeholder: "(555) 123-4567" %>
              </div>
            </div>

            <div>
              <%= f.label :message, class: "block text-xs font-semibold text-gray-300 mb-3 uppercase tracking-wider" do %>
                Message (Optional)
              <% end %>
              <%= f.text_area :message, rows: 4,
                  placeholder: "Tell us about your business and what you're looking for.",
                  class: "w-full px-4 py-3 bg-transparent border border-gray-700 text-white placeholder-gray-500 focus:border-primary focus:outline-none transition-base resize-none" %>
            </div>

            <div class="pt-6">
              <%= f.button type: "submit", data: { form_target: "submit" }, class: "w-full btn-primary text-base py-4" do %>
                Send Inquiry
              <% end %>
            </div>

            <p class="text-xs text-gray-400 text-center mt-6 font-light leading-relaxed">
              Your information is secure. We'll reach out within 24 hours.
            </p>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
